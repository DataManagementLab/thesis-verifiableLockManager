TrustDBle LockManager {#mainpage}
============

The TrustDBle LockManager is an implementation of a byzantine pessimistic concurrency control scheme based on two phase locking (2PL).
It assumes that transactions (ie., transaction coordinators executing TXs) might maliciously acquire and release locks.
More information on the key concepts and design can be found below.

## Threat and Security Model
We assume a client-server model in which the LockManager acts as a server to which clients can send lock requests.
Clients (ie. transaction coordinators) request and release locks in accordance to an isolation level and a transaction type.
A transaction type can be thought of as a SQL stored procedure that must be registered with the LockManager prior to execution.
Any lock that is generated by the LockManager is signed, such that other components can determine the validity of a lock.

### In-scope attacks
The LockManager is currently designed to address the following attacks. Each attack is addressed by one or more key concepts:
* Invalid locks: A client tries to operate on a record without locking it or by faking a lock. => Lock signatures 
* 2-PL violation: A client does not adhere to 2-PL and, e.g., tries to request locks even after releasing a lock (entering the shrink phase). => Stateful LockManager
* Denial of Service: A client requests locks and never releases them. => Lock timeout
* Lock explosion: A client requests more locks than required for a transaction, e.g. even locks of rows that a transaction does not touch. => Lock budget

### Out-of-scope attacks / limitations
* Isolation level compliance: The LockManager cannot necessarily enforce when certain locks are requested or released. 
While it is possible to enforce stricter 2-PL schemes (e.g., strict-2PL) and isolation levels, the more lose an isolation level gets the less the LockManager can enforce.


## Key Concepts
### Locks and Lock Signatures
TODO: explain concept

### LockManager State
TODO: explain concept

### Lock Timeouts
TODO: explain concept

### Lock Budget
TODO: explain concept

## System Overview
The following diagram shows the main system components and their interaction among each other.

TODO: draw diagram